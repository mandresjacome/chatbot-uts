<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Malla Component</title>
    <link rel="stylesheet" href="/chat/malla-curricular.css">
</head>
<body>
    <h1>Debug: Componente Malla Curricular</h1>
    
    <div class="malla-container">
      <div class="malla-card">
        <div class="malla-header">
          <h3>🎓 Malla Curricular UTS</h3>
          <div class="program-selector">
            <button class="program-btn active" data-program="tecnologia">📱 Tecnología</button>
            <button class="program-btn" data-program="ingenieria">⚙️ Ingeniería</button>
          </div>
        </div>
        
        <div class="malla-content">
          <div class="nivel-info">
            <h4 class="nivel-titulo">Nivel <span id="nivel-actual">1</span> de <span id="total-niveles">6</span></h4>
            <p class="nivel-creditos">20 créditos</p>
          </div>
          
          <div id="materias-container" class="materias-container">
            <ul class="materias-lista">
              <li class="materia-item">
                <div class="materia-info">
                  <span class="materia-codigo">TDS101</span>
                  <span class="materia-nombre">Matemáticas Básicas</span>
                </div>
                <span class="materia-creditos">4cr</span>
              </li>
              <li class="materia-item">
                <div class="materia-info">
                  <span class="materia-codigo">TDS102</span>
                  <span class="materia-nombre">Introducción a la Programación</span>
                </div>
                <span class="materia-creditos">4cr</span>
              </li>
              <li class="materia-item">
                <div class="materia-info">
                  <span class="materia-codigo">TDS103</span>
                  <span class="materia-nombre">Física I</span>
                </div>
                <span class="materia-creditos">3cr</span>
              </li>
            </ul>
          </div>
        </div>
        
        <div class="malla-controls">
          <button class="nav-btn" id="prevLevel">← Anterior</button>
          <span class="level-indicator">Nivel 1</span>
          <button class="nav-btn" id="nextLevel">Siguiente →</button>
          <button class="zoom-btn" id="expandMalla">🔍 Expandir</button>
        </div>
      </div>
    </div>

    <button onclick="testNavigation()">🧪 Probar Navegación</button>
    
    <script src="/chat/malla-navigator.js"></script>
    <script>
        console.log('🔍 Página de debug cargada');
        console.log('📋 Materias container:', document.getElementById('materias-container'));
        console.log('📚 Materias lista:', document.querySelector('.materias-lista'));
        console.log('🎯 Items de materia:', document.querySelectorAll('.materia-item'));
        
        let navigator;
        
        async function testNavigation() {
            try {
                console.log('🧪 Iniciando test de navegación...');
                
                if (!window.MallaNavigator) {
                    console.error('❌ MallaNavigator no disponible');
                    return;
                }
                
                navigator = new window.MallaNavigator();
                await navigator.initialize();
                
                console.log('✅ Navigator inicializado para debug');
            } catch (error) {
                console.error('❌ Error en test:', error);
            }
        }
    </script>
</body>
</html>