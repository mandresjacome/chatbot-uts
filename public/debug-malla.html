<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Malla Component</title>
    <link rel="stylesheet" href="/chat/malla-curricular.css">
</head>
<body>
    <h1>Debug: Componente Malla Curricular</h1>
    
    <div class="malla-container">
      <div class="malla-card">
        <div class="malla-header">
          <h3>ğŸ“ Malla Curricular UTS</h3>
          <div class="program-selector">
            <button class="program-btn active" data-program="tecnologia">ğŸ“± TecnologÃ­a</button>
            <button class="program-btn" data-program="ingenieria">âš™ï¸ IngenierÃ­a</button>
          </div>
        </div>
        
        <div class="malla-content">
          <div class="nivel-info">
            <h4 class="nivel-titulo">Nivel <span id="nivel-actual">1</span> de <span id="total-niveles">6</span></h4>
            <p class="nivel-creditos">20 crÃ©ditos</p>
          </div>
          
          <div id="materias-container" class="materias-container">
            <ul class="materias-lista">
              <li class="materia-item">
                <div class="materia-info">
                  <span class="materia-codigo">TDS101</span>
                  <span class="materia-nombre">MatemÃ¡ticas BÃ¡sicas</span>
                </div>
                <span class="materia-creditos">4cr</span>
              </li>
              <li class="materia-item">
                <div class="materia-info">
                  <span class="materia-codigo">TDS102</span>
                  <span class="materia-nombre">IntroducciÃ³n a la ProgramaciÃ³n</span>
                </div>
                <span class="materia-creditos">4cr</span>
              </li>
              <li class="materia-item">
                <div class="materia-info">
                  <span class="materia-codigo">TDS103</span>
                  <span class="materia-nombre">FÃ­sica I</span>
                </div>
                <span class="materia-creditos">3cr</span>
              </li>
            </ul>
          </div>
        </div>
        
        <div class="malla-controls">
          <button class="nav-btn" id="prevLevel">â† Anterior</button>
          <span class="level-indicator">Nivel 1</span>
          <button class="nav-btn" id="nextLevel">Siguiente â†’</button>
          <button class="zoom-btn" id="expandMalla">ğŸ” Expandir</button>
        </div>
      </div>
    </div>

    <button onclick="testNavigation()">ğŸ§ª Probar NavegaciÃ³n</button>
    
    <script src="/chat/malla-navigator.js"></script>
    <script>
        console.log('ğŸ” PÃ¡gina de debug cargada');
        console.log('ğŸ“‹ Materias container:', document.getElementById('materias-container'));
        console.log('ğŸ“š Materias lista:', document.querySelector('.materias-lista'));
        console.log('ğŸ¯ Items de materia:', document.querySelectorAll('.materia-item'));
        
        let navigator;
        
        async function testNavigation() {
            try {
                console.log('ğŸ§ª Iniciando test de navegaciÃ³n...');
                
                if (!window.MallaNavigator) {
                    console.error('âŒ MallaNavigator no disponible');
                    return;
                }
                
                navigator = new window.MallaNavigator();
                await navigator.initialize();
                
                console.log('âœ… Navigator inicializado para debug');
            } catch (error) {
                console.error('âŒ Error en test:', error);
            }
        }
    </script>
</body>
</html>